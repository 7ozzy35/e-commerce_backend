{"ast":null,"code":"import { getMetadataArgsStorage } from \"../../globals\";\nimport { ObjectUtils } from \"../../util/ObjectUtils\";\n/**\n * Column decorator is used to mark a specific class property as a table column.\n * Only properties decorated with this decorator will be persisted to the database when entity be saved.\n * This column creates an integer PRIMARY COLUMN with generated set to true.\n */\nexport function PrimaryGeneratedColumn(strategyOrOptions, maybeOptions) {\n  // normalize parameters\n  const options = {};\n  let strategy;\n  if (strategyOrOptions) {\n    if (typeof strategyOrOptions === \"string\") strategy = strategyOrOptions;\n    if (ObjectUtils.isObject(strategyOrOptions)) {\n      strategy = \"increment\";\n      Object.assign(options, strategyOrOptions);\n    }\n  } else {\n    strategy = \"increment\";\n  }\n  if (ObjectUtils.isObject(maybeOptions)) Object.assign(options, maybeOptions);\n  return function (object, propertyName) {\n    // if column type is not explicitly set then determine it based on generation strategy\n    if (!options.type) {\n      if (strategy === \"increment\" || strategy === \"identity\") {\n        options.type = Number;\n      } else if (strategy === \"uuid\") {\n        options.type = \"uuid\";\n      } else if (strategy === \"rowid\") {\n        options.type = \"int\";\n      }\n    }\n    // explicitly set a primary and generated to column options\n    options.primary = true;\n    // register column metadata args\n    getMetadataArgsStorage().columns.push({\n      target: object.constructor,\n      propertyName: propertyName,\n      mode: \"regular\",\n      options: options\n    });\n    // register generated metadata args\n    getMetadataArgsStorage().generations.push({\n      target: object.constructor,\n      propertyName: propertyName,\n      strategy: strategy\n    });\n  };\n}","map":{"version":3,"names":["getMetadataArgsStorage","ObjectUtils","PrimaryGeneratedColumn","strategyOrOptions","maybeOptions","options","strategy","isObject","Object","assign","object","propertyName","type","Number","primary","columns","push","target","constructor","mode","generations"],"sources":["D:\\Ronwell Task 1\\node_modules\\typeorm\\browser\\src\\decorator\\columns\\PrimaryGeneratedColumn.ts"],"sourcesContent":["import { getMetadataArgsStorage } from \"../../globals\"\nimport { PrimaryGeneratedColumnNumericOptions } from \"../options/PrimaryGeneratedColumnNumericOptions\"\nimport { PrimaryGeneratedColumnUUIDOptions } from \"../options/PrimaryGeneratedColumnUUIDOptions\"\nimport { GeneratedMetadataArgs } from \"../../metadata-args/GeneratedMetadataArgs\"\nimport { ColumnOptions } from \"../options/ColumnOptions\"\nimport { PrimaryGeneratedColumnIdentityOptions } from \"../options/PrimaryGeneratedColumnIdentityOptions\"\nimport { ObjectUtils } from \"../../util/ObjectUtils\"\n\n/**\n * Column decorator is used to mark a specific class property as a table column.\n */\nexport function PrimaryGeneratedColumn(): PropertyDecorator\n\n/**\n * Column decorator is used to mark a specific class property as a table column.\n */\nexport function PrimaryGeneratedColumn(\n    options: PrimaryGeneratedColumnNumericOptions,\n): PropertyDecorator\n\n/**\n * Column decorator is used to mark a specific class property as a table column.\n */\nexport function PrimaryGeneratedColumn(\n    strategy: \"increment\",\n    options?: PrimaryGeneratedColumnNumericOptions,\n): PropertyDecorator\n\n/**\n * Column decorator is used to mark a specific class property as a table column.\n */\nexport function PrimaryGeneratedColumn(\n    strategy: \"uuid\",\n    options?: PrimaryGeneratedColumnUUIDOptions,\n): PropertyDecorator\n\n/**\n * Column decorator is used to mark a specific class property as a table column.\n */\nexport function PrimaryGeneratedColumn(\n    strategy: \"rowid\",\n    options?: PrimaryGeneratedColumnUUIDOptions,\n): PropertyDecorator\n\nexport function PrimaryGeneratedColumn(\n    strategy: \"identity\",\n    options?: PrimaryGeneratedColumnIdentityOptions,\n): PropertyDecorator\n\n/**\n * Column decorator is used to mark a specific class property as a table column.\n * Only properties decorated with this decorator will be persisted to the database when entity be saved.\n * This column creates an integer PRIMARY COLUMN with generated set to true.\n */\nexport function PrimaryGeneratedColumn(\n    strategyOrOptions?:\n        | \"increment\"\n        | \"uuid\"\n        | \"rowid\"\n        | \"identity\"\n        | PrimaryGeneratedColumnNumericOptions\n        | PrimaryGeneratedColumnUUIDOptions\n        | PrimaryGeneratedColumnIdentityOptions,\n    maybeOptions?:\n        | PrimaryGeneratedColumnNumericOptions\n        | PrimaryGeneratedColumnUUIDOptions\n        | PrimaryGeneratedColumnIdentityOptions,\n): PropertyDecorator {\n    // normalize parameters\n    const options: ColumnOptions = {}\n    let strategy: \"increment\" | \"uuid\" | \"rowid\" | \"identity\"\n    if (strategyOrOptions) {\n        if (typeof strategyOrOptions === \"string\")\n            strategy = strategyOrOptions as\n                | \"increment\"\n                | \"uuid\"\n                | \"rowid\"\n                | \"identity\"\n\n        if (ObjectUtils.isObject(strategyOrOptions)) {\n            strategy = \"increment\"\n            Object.assign(options, strategyOrOptions)\n        }\n    } else {\n        strategy = \"increment\"\n    }\n    if (ObjectUtils.isObject(maybeOptions)) Object.assign(options, maybeOptions)\n\n    return function (object: Object, propertyName: string) {\n        // if column type is not explicitly set then determine it based on generation strategy\n        if (!options.type) {\n            if (strategy === \"increment\" || strategy === \"identity\") {\n                options.type = Number\n            } else if (strategy === \"uuid\") {\n                options.type = \"uuid\"\n            } else if (strategy === \"rowid\") {\n                options.type = \"int\"\n            }\n        }\n\n        // explicitly set a primary and generated to column options\n        options.primary = true\n\n        // register column metadata args\n        getMetadataArgsStorage().columns.push({\n            target: object.constructor,\n            propertyName: propertyName,\n            mode: \"regular\",\n            options: options,\n        })\n\n        // register generated metadata args\n        getMetadataArgsStorage().generations.push({\n            target: object.constructor,\n            propertyName: propertyName,\n            strategy: strategy,\n        } as GeneratedMetadataArgs)\n    }\n}\n"],"mappings":"AAAA,SAASA,sBAAsB,QAAQ,eAAe;AAMtD,SAASC,WAAW,QAAQ,wBAAwB;AA2CpD;;;;;AAKA,OAAM,SAAUC,sBAAsBA,CAClCC,iBAO2C,EAC3CC,YAG2C;EAE3C;EACA,MAAMC,OAAO,GAAkB,EAAE;EACjC,IAAIC,QAAqD;EACzD,IAAIH,iBAAiB,EAAE;IACnB,IAAI,OAAOA,iBAAiB,KAAK,QAAQ,EACrCG,QAAQ,GAAGH,iBAIK;IAEpB,IAAIF,WAAW,CAACM,QAAQ,CAACJ,iBAAiB,CAAC,EAAE;MACzCG,QAAQ,GAAG,WAAW;MACtBE,MAAM,CAACC,MAAM,CAACJ,OAAO,EAAEF,iBAAiB,CAAC;IAC7C;EACJ,CAAC,MAAM;IACHG,QAAQ,GAAG,WAAW;EAC1B;EACA,IAAIL,WAAW,CAACM,QAAQ,CAACH,YAAY,CAAC,EAAEI,MAAM,CAACC,MAAM,CAACJ,OAAO,EAAED,YAAY,CAAC;EAE5E,OAAO,UAAUM,MAAc,EAAEC,YAAoB;IACjD;IACA,IAAI,CAACN,OAAO,CAACO,IAAI,EAAE;MACf,IAAIN,QAAQ,KAAK,WAAW,IAAIA,QAAQ,KAAK,UAAU,EAAE;QACrDD,OAAO,CAACO,IAAI,GAAGC,MAAM;MACzB,CAAC,MAAM,IAAIP,QAAQ,KAAK,MAAM,EAAE;QAC5BD,OAAO,CAACO,IAAI,GAAG,MAAM;MACzB,CAAC,MAAM,IAAIN,QAAQ,KAAK,OAAO,EAAE;QAC7BD,OAAO,CAACO,IAAI,GAAG,KAAK;MACxB;IACJ;IAEA;IACAP,OAAO,CAACS,OAAO,GAAG,IAAI;IAEtB;IACAd,sBAAsB,EAAE,CAACe,OAAO,CAACC,IAAI,CAAC;MAClCC,MAAM,EAAEP,MAAM,CAACQ,WAAW;MAC1BP,YAAY,EAAEA,YAAY;MAC1BQ,IAAI,EAAE,SAAS;MACfd,OAAO,EAAEA;KACZ,CAAC;IAEF;IACAL,sBAAsB,EAAE,CAACoB,WAAW,CAACJ,IAAI,CAAC;MACtCC,MAAM,EAAEP,MAAM,CAACQ,WAAW;MAC1BP,YAAY,EAAEA,YAAY;MAC1BL,QAAQ,EAAEA;KACY,CAAC;EAC/B,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}